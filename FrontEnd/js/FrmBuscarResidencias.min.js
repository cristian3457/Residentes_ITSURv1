function mostrarOcultar(a){var s=$("#verMas"+a),i=s.val();"Ver Más"==i?($(".card-text.pOcultar"+a).css("display","block"),s.val("Ver Menos")):"Ver Menos"==i&&($(".card-text.pOcultar"+a).css("display","none"),s.val("Ver Más"))}function filtrarBusquedaArea(a){cargarOfertasArea("{'carrera' : '"+a+"'}")}function cargarOfertasMunicipio(a){let s=$("#ofertasEncontradas");s.empty(),$.ajax({type:"POST",url:"ws/WSOfertas.asmx/buscarOfertasMunicipio",data:a,contentType:"application/json; utf-8",dataType:"json",success:function(a){let p=JSON.parse(a.d);if(p.length>0)for(i=0;i<p.length;i++){var e=$("<div class='card cardIndividual'></div>");s.append(e),e.append("<h5 class='card-title tituloOferta'>RESIDENCIAS PROFESIONALES - <span id='area'>"+p[i].perfil+"</span></h5>"),e.append("<h6 class='card-subtitle mb-2 text-primary' id='empresa'><span class='bold'>"+p[i].nombre+"</span></h6>"),e.append("<p class='card-text'><span class='bold'>SUELDO: </span><span id='sueldo'>"+p[i].sueldo+"</span> MENSUAL</p>"),e.append("<p class='card-text'><span class='bold'><span id='empresa'>"+p[i].nombre+" </span>solicita: </span><span id='solicito'>"+p[i].solicito+"</span></p>"),e.append("<p class='card-text pOcultar"+i+"'><span class='bold'>REQUISITOS: </span><span id='requisitos'>"+p[i].requisitos+"</span></p>"),e.append("<p class='card-text pOcultar"+i+"'><span class='bold'>ACTIVIDADES: </span><span id='actividades'>"+p[i].actividades+"</span></p>"),e.append("<p class='card-text'><span class='bold'>UBICACIÓN: </span><span id='direccion'>"+p[i].domicilio+"</span><span id='municipio'> "+p[i].municipio+",</span><span id='codigo_postal'> "+p[i].codigo_postal+"</span><span id='estado'> "+p[i].estado+"</span></p>"),e.append("<p class='card-text pOcultar"+i+"'><span class='bold'>DATOS DE CONTACTO: EMAIL: </span>"+p[i].email+"<span id='email'></span> <span class='bold'>TELÉFONO: </span><span id='telefono'>"+p[i].telefono+"</span></p>");var n=$("<div class='row botonesOfertas'></div>");e.append(n),n.append("<input type='button' id='verMas"+i+"' onclick='mostrarOcultar("+i+")' style='padding:10px 25px!important;margin:0 auto !important;' class='btn btn-primary btnVerMas' value='Ver Más' />"),$(".card-text.pOcultar"+i).css("display","none")}else s.append("<h3 class='text-center'>NO SE HAN ENCONTRADO RESULTADOS INTENTA CON OTROS MUNICIPIOS</h3>")},error:function(a,s,i){"System.Exception"==a.responseJSON.ExceptionType?($("#msgError").text(a.responseJSON.Message),$("#mdlError").modal().show()):"System.Security.SecurityException"==a.responseJSON.ExceptionType&&Response.load("FrmLogin.aspx")}})}function cargarOfertasArea(a){let s=$("#ofertasEncontradas");s.empty(),$.ajax({type:"POST",url:"ws/WSOfertas.asmx/buscarOfertasArea",data:a,contentType:"application/json; utf-8",dataType:"json",success:function(a){let p=JSON.parse(a.d);if(p.length>0)for(i=0;i<p.length;i++){var e=$("<div class='card cardIndividual'></div>");s.append(e),e.append("<h5 class='card-title tituloOferta'>RESIDENCIAS PROFESIONALES - <span id='area'>"+p[i].perfil+"</span></h5>"),e.append("<h6 class='card-subtitle mb-2 text-primary' id='empresa'><span class='bold'>"+p[i].nombre+"</span></h6>"),e.append("<p class='card-text'><span class='bold'>SUELDO: </span><span id='sueldo'>"+p[i].sueldo+"</span> MENSUAL</p>"),e.append("<p class='card-text'><span class='bold'><span id='empresa'>"+p[i].nombre+" </span>solicita: </span><span id='solicito'>"+p[i].solicito+"</span></p>"),e.append("<p class='card-text pOcultar"+i+"'><span class='bold'>REQUISITOS: </span><span id='requisitos'>"+p[i].requisitos+"</span></p>"),e.append("<p class='card-text pOcultar"+i+"'><span class='bold'>ACTIVIDADES: </span><span id='actividades'>"+p[i].actividades+"</span></p>"),e.append("<p class='card-text'><span class='bold'>UBICACIÓN: </span><span id='direccion'>"+p[i].domicilio+"</span><span id='municipio'> "+p[i].municipio+",</span><span id='codigo_postal'> "+p[i].codigo_postal+"</span><span id='estado'> "+p[i].estado+"</span></p>"),e.append("<p class='card-text pOcultar"+i+"'><span class='bold'>DATOS DE CONTACTO: EMAIL: </span>"+p[i].email+"<span id='email'></span> <span class='bold'>TELÉFONO: </span><span id='telefono'>"+p[i].telefono+"</span></p>");var n=$("<div class='row botonesOfertas'></div>");e.append(n),n.append("<input type='button' id='verMas"+i+"' onclick='mostrarOcultar("+i+")' style='padding:10px 25px!important;margin:0 auto !important;' class='btn btn-primary btnVerMas' value='Ver Más' />"),$(".card-text.pOcultar"+i).css("display","none")}else s.append("<h3 class='text-center'>NO SE HAN ENCONTRADO RESULTADOS INTENTA CON OTROS MUNICIPIOS</h3>")},error:function(a,s,i){"System.Exception"==a.responseJSON.ExceptionType?($("#msgError").text(a.responseJSON.Message),$("#mdlError").modal().show()):"System.Security.SecurityException"==a.responseJSON.ExceptionType&&Response.load("FrmLogin.aspx")}})}function cargarEstados(){$.ajax({type:"POST",url:"ws/WSDatosContacto.asmx/getEstados",contentType:"application/json; utf-8",dataType:"json",success:function(a){let s=JSON.parse(a.d);for($("#ddlEstadoBusqueda").empty(),i=0;i<s.length;i++)$("#ddlEstadoBusqueda").append('<option value="'+s[i].id_estado+'">'+s[i].estado+"</option>");cambiarMunicipios("{ 'estado' : 'Aguascalientes'}")},error:function(a,s,i){$("#msgError").text("HA OCURRIDO UN ERROR, POR FAVOR VUELVELO A INTENTAR"),$("#mdlError").modal().show()}})}function cambiarMunicipios(a){$.ajax({type:"POST",url:"ws/WSDatosContacto.asmx/getMunicipios",data:a,contentType:"application/json; utf-8",dataType:"json",success:function(a){let s=JSON.parse(a.d);for($("#ddlMunicipioBusqueda").empty(),i=0;i<s.length;i++)$("#ddlMunicipioBusqueda").append('<option value="'+s[i].id_municipio+'">'+s[i].municipio+"</option>")},error:function(a,s,i){$("#msgError").text("HA OCURRIDO UN ERROR, POR FAVOR VUELVELO A INTENTAR"),$("#mdlError").modal().show()}})}$(document).ready(function(){$("#btnBuscar").click(function(){var a=document.getElementById("ddlMunicipioBusqueda").value;parseInt(a)>0&&cargarOfertasMunicipio("{'id_municipio' : '"+parseInt(a)+"'}")}),cargarEstados(),$("#ddlEstadoBusqueda").change(function(){cambiarMunicipios("{ 'estado' : '"+$("#ddlEstadoBusqueda :selected").text()+"'}")})});