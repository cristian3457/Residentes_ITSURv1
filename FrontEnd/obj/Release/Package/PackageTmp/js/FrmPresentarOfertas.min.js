function mostrarOcultar(a){var s=$("#verMas"+a),t=s.val();"Ver Más"==t?($(".card-text.pOcultar"+a).css("display","block"),s.val("Ver Menos")):"Ver Menos"==t&&($(".card-text.pOcultar"+a).css("display","none"),s.val("Ver Más"))}function EditarOferta(a){window.sessionStorage.removeItem("id_oferta"),window.sessionStorage.setItem("id_oferta",a),$(".contenedor").load("FrmSolicitarResidentes.aspx")}function EliminarOferta(a){$("#mdlConfirmar").modal("show"),$("#confirmarEliminar").unbind("click"),$("#confirmarEliminar").click(function(){var s="{ 'id_oferta' : '"+a+"'}";$.ajax({type:"POST",url:"ws/WSOfertas.asmx/delete",data:s,contentType:"application/json; utf-8",dataType:"json",success:function(a){a.d&&($("#mdlInformacion").modal("show"),$("#btnAceptar").unbind("click"),$("#btnAceptar").click(function(){$(".tarjetas").empty(),mostrarOfertas("{'email_usuario' : '"+$("#contenido_txtEmailUsuario").val()+"'}")}))},error:function(a,s,t){"System.Exception"==a.responseJSON.ExceptionType?($("#msgError").text(a.responseJSON.Message),$("#mdlError").modal().show()):"System.Security.SecurityException"==a.responseJSON.ExceptionType&&Response.load("FrmLogin.aspx")}})})}function mostrarOfertas(a){let s=$(".tarjetas");s.empty(),$.ajax({type:"POST",url:"ws/WSOfertas.asmx/getOfertas",data:a,contentType:"application/json; utf-8",dataType:"json",success:function(a){let t=JSON.parse(a.d);if(t.length>0)for(i=0;i<t.length;i++){var e=$("<div class='card cardIndividual'></div>");s.append(e),e.append("<h5 class='card-title tituloOferta'>RESIDENCIAS PROFESIONALES - <span id='area'>"+t[i].perfil+"</span></h5>"),e.append("<h6 class='card-subtitle mb-2 text-primary' id='empresa'><span class='bold'>"+t[i].nombre+"</span></h6>"),e.append("<p class='card-text'><span class='bold'>SUELDO: </span><span id='sueldo'>"+t[i].sueldo+"</span> MENSUAL</p>"),e.append("<p class='card-text'><span class='bold'><span id='empresa'>"+t[i].nombre+" </span>solicita: </span><span id='solicito'>"+t[i].solicito+"</span></p>"),e.append("<p class='card-text pOcultar"+i+"'><span class='bold'>REQUISITOS: </span><span id='requisitos'>"+t[i].requisitos+"</span></p>"),e.append("<p class='card-text pOcultar"+i+"'><span class='bold'>ACTIVIDADES: </span><span id='actividades'>"+t[i].actividades+"</span></p>"),e.append("<p class='card-text'><span class='bold'>UBICACIÓN: </span><span id='direccion'>"+t[i].domicilio+"</span><span id='municipio'> "+t[i].municipio+",</span><span id='codigo_postal'> "+t[i].codigo_postal+"</span><span id='estado'> "+t[i].estado+"</span></p>"),e.append("<p class='card-text pOcultar"+i+"'><span class='bold'>DATOS DE CONTACTO: EMAIL: </span>"+t[i].email+"<span id='email'></span> <span class='bold'>TELÉFONO: </span><span id='telefono'>"+t[i].telefono+"</span></p>");var n=$("<div class='row botonesOfertas'></div>");e.append(n),n.append("<input type='button' id='verMas"+i+"' onclick='mostrarOcultar("+i+")' style='padding:10px 25px!important;margin:0 auto !important;' class='btn btn-primary btnVerMas' value='Ver Más' />"),n.append("<input type='button' id='editar' onclick='EditarOferta("+t[i].id_oferta+")' style='padding:10px 25px!important; margin:0 auto !important;;' class='btn btn-info' value='Editar' />"),n.append("<input type='button' id='eliminar' onclick='EliminarOferta("+t[i].id_oferta+")' style='padding:10px 25px!important;margin:0 auto !important;' class='btn btn-danger' value='Eliminar' />"),$(".card-text.pOcultar"+i).css("display","none")}else s.append("<h2 class='text-center'>AUN NO HAS REGISTRADO OFERTAS PARA RESIDENTES</h2>")},error:function(a,s,t){"System.Exception"==a.responseJSON.ExceptionType?($("#msgError").text(a.responseJSON.Message),$("#mdlError").modal().show()):"System.Security.SecurityException"==a.responseJSON.ExceptionType&&Response.load("FrmLogin.aspx")}})}$(document).ready(function(){var a=$("#contenido_txtEmailUsuario").val();(window.sessionStorage.removeItem("id_oferta"),null!=a)&&mostrarOfertas("{'email_usuario' : '"+a+"'}")});